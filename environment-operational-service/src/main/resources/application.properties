colly.environment-operational-service.cron.schedule=0 * * * * ?
%test.colly.environment-operational-service.cron.schedule=0 0 0 1 1 ? 2020

colly.environment-operational-service.config-map.versions.name=sd-versions
colly.environment-operational-service.config-map.versions.data-field-name=solution-descriptors-summary

colly.environment-operational-service.cluster-resource-loader.thread-pool-size=5

colly.environment-operational-service.monitoring."running-pods".name=Running Pods
colly.environment-operational-service.monitoring."running-pods".query=count(kube_pod_status_phase{namespace=~"{namespace}",phase="Running"})
colly.environment-operational-service.monitoring."failed-deployments".name=Failed Deployments
colly.environment-operational-service.monitoring."failed-deployments".query=count(kube_deployment_status_replicas_unavailable{namespace=~"{namespace}"})
%dev.colly.environment-operational-service.monitoring."failed-deployments".query=vm_http_requests_total{path="/api/v1/query"}
%dev.colly.environment-operational-service.monitoring."running-pods".query=process_cpu_cores_available

# EnvgeneInventoryService REST client configuration
quarkus.rest-client.envgene-inventory-service.url=http://localhost:8081
#quarkus.rest-client.envgene-inventory-service.scope=jakarta.inject.Singleton

#Security Configuration
%prod.quarkus.oidc.auth-server-url=
#%dev.quarkus.oidc.auth-server-url=http://localhost:8180/realms/quarkus #in case if keycloak was already running locally

quarkus.oidc.client-id=colly-environment-operational-service

quarkus.oidc.credentials.secret=
%dev.quarkus.oidc.credentials.secret=secret

quarkus.oidc.application-type=service

# OIDC Client configuration for service-to-service calls (e.g., scheduled tasks)
quarkus.oidc-client.service-client.auth-server-url=${quarkus.oidc.auth-server-url}
quarkus.oidc-client.service-client.client-id=${quarkus.oidc.client-id}
quarkus.oidc-client.service-client.credentials.secret=${quarkus.oidc.credentials.secret}
quarkus.oidc-client.service-client.grant.type=client

%test.quarkus.oidc.tenant-enabled=false

# Security settings
quarkus.http.auth.permission.auth-check.paths=/q/*,/colly/v2/operational-service/auth-status
quarkus.http.auth.permission.auth-check.policy=permit

quarkus.http.auth.permission.authenticated.paths=/*
quarkus.http.auth.permission.authenticated.policy=authenticated
# CORS
quarkus.http.cors=false

# logging
%dev.quarkus.log.category."io.quarkus.oidc".level=DEBUG
%dev.quarkus.log.category."io.quarkus.security".level=DEBUG



# Redis configuration
%prod.quarkus.redis.hosts=redis://redis:6379
quarkus.re

# Redis Dev Services (for tests and dev mode) - will auto-start container
%test.quarkus.redis.devservices.enabled=true
%dev.quarkus.redis.devservices.enabled=true

#Quarkus configuration

quarkus.swagger-ui.always-include=true
quarkus.smallrye-openapi.security-scheme=oauth2

quarkus.log.level=INFO
%test.quarkus.log.category."org.qubership.colly".level=DEBUG


quarkus.log.category."org.jboss.resteasy.reactive.client.logging".level=DEBUG
quarkus.rest-client.logging.scope=request-response
quarkus.rest-client.logging.body-limit=10000
quarkus.oidc.authentication.add-openid-scope=true

# HTTP port configuration
quarkus.http.port=8080
%dev.quarkus.http.port=8080
