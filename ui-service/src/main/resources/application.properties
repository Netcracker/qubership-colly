# Application Configuration
quarkus.application.name=ui-service
quarkus.http.port=3000

# CORS Configuration
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:3000,http://localhost:8080,http://localhost:8081
quarkus.http.cors.methods=GET,POST,PUT,PATCH,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition
quarkus.http.cors.access-control-max-age=24H
quarkus.http.cors.access-control-allow-credentials=true

# Serve static resources (React app)
quarkus.http.enable-compression=true
quarkus.http.root-path=/

# Quinoa Configuration (Frontend Integration)
quarkus.quinoa.ui-dir=src/main/webui
quarkus.quinoa.build-dir=build
quarkus.quinoa.package-manager-install=true
quarkus.quinoa.package-manager-install.node-version=20.11.0
quarkus.quinoa.package-manager-install.npm-version=10.2.4
quarkus.quinoa.package-manager=npm
quarkus.quinoa.package-manager-command.install=install
quarkus.quinoa.package-manager-command.build=run build

# REST Client - Inventory Service
quarkus.rest-client.inventory-service.url=http://localhost:8081
quarkus.rest-client.inventory-service.scope=jakarta.inject.Singleton

# REST Client - Operational Service
quarkus.rest-client.operational-service.url=http://localhost:8080
quarkus.rest-client.operational-service.scope=jakarta.inject.Singleton

# Timeout configuration for REST clients
quarkus.rest-client.inventory-service.connect-timeout=5000
quarkus.rest-client.inventory-service.read-timeout=30000
quarkus.rest-client.operational-service.connect-timeout=5000
quarkus.rest-client.operational-service.read-timeout=30000

# OIDC Configuration (same as other services)
quarkus.oidc.enabled=true
quarkus.oidc.auth-server-url=http://localhost:8180/realms/quarkus
quarkus.oidc.client-id=ui-service
quarkus.oidc.credentials.secret=secret
quarkus.oidc.application-type=web-app
quarkus.oidc.authentication.redirect-path=/callback
quarkus.oidc.authentication.scopes=openid,profile,email

quarkus.http.auth.permission.auth-check.paths=/q/*,/colly/v2/ui-service/auth-status
quarkus.http.auth.permission.auth-check.policy=permit

quarkus.http.auth.permission.authenticated.paths=/*
quarkus.http.auth.permission.authenticated.policy=authenticated

# Dev Mode Configuration
%dev.quarkus.http.port=3000
%dev.quarkus.rest-client.inventory-service.url=http://localhost:8081
%dev.quarkus.rest-client.operational-service.url=http://localhost:8080
%dev.quarkus.oidc.enabled=true
# In dev mode, you can run React dev server separately on port 3001
# or let Quinoa build and serve it
%dev.quarkus.quinoa.dev-server.port=3001
%dev.quarkus.quinoa.dev-server=false

# Logging
quarkus.log.level=INFO
quarkus.log.category."org.qubership".level=DEBUG

# OpenAPI / Swagger
quarkus.smallrye-openapi.path=/api/openapi
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/api/swagger-ui
